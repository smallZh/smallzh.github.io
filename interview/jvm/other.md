## 其他题目
---
## 1 Jvm是什么？⭐ :id=jvm
JVM 是可运行 Java 代码的假想计算机 ，包括一套字节码指令集、一组寄存器、一个栈、
一个垃圾回收，堆 和 一个存储方法域。JVM 是运行在操作系统之上的，它与硬件没有直接
的交互。

![](../imgs/jvm_1.jpg)

## 2 Jvm怎么运行的？⭐⭐⭐ :id=jvm-run
我们都知道 Java 源文件，通过编译器，能够生产相应的.Class 文件，也就是字节码文件，
而字节码文件又通过 Java 虚拟机中的解释器，编译成特定机器上的机器码 。
也就是如下：
1. Java 源文件—->编译器—->字节码文件
1. 字节码文件—->JVM—->机器码

每一种平台的解释器是不同的，但是实现的虚拟机是相同的，这也就是 Java 为什么能够
跨平台的原因了 ，当一个程序从开始运行，这时虚拟机就开始实例化了，多个程序启动就会
存在多个虚拟机实例。程序退出或者关闭，则虚拟机实例消亡，多个虚拟机实例之间数据不
能共享。

![](../imgs/jvm_2.jpg)

## 3 Jvm中的线程有哪些？⭐⭐⭐⭐ :id=jvm-thread
这里所说的线程指程序执行过程中的一个线程实体。JVM 允许一个应用并发执行多个线程。
Hotspot JVM 中的 Java 线程与原生操作系统线程有直接的映射关系。当线程本地存储、缓
冲区分配、同步对象、栈、程序计数器等准备好以后，就会创建一个操作系统原生线程。

Java 线程结束，原生线程随之被回收。操作系统负责调度所有线程，并把它们分配到任何可
用的 CPU 上。当原生线程初始化完毕，就会调用 Java 线程的 run() 方法。当线程结束时，会释放原生线程和 Java 线程的所有资源。

Hotspot JVM 后台运行的系统线程主要有下面几个：

|名称|解释|
|---|---|
|虚拟机线程（VM thread）|这个线程等待 JVM 到达安全点操作出现。这些操作必须要在独立的程里执行，因为当堆修改无法进行时，线程都需要 JVM 位于安全点。这些操作的类型有：stop-the-world 垃圾回收、线程栈 dump、线程暂停、线程偏向锁（biased locking）解除。|
|周期性任务线程 |这线程负责定时器事件（也就是中断），用来调度周期性操作的执行。|
|GC 线程| 这些线程支持 JVM 中不同的垃圾回收活动。|
|编译器线程| 这些线程在运行时将字节码动态编译成本地平台相关的机器码。|
|信号分发线程 |这个线程接收发送到 JVM 的信号并调用适当的 JVM 方法处理。|

## 4 Java中有哪些引用类型？⭐⭐⭐⭐⭐ :id=ref-type
|名称|说明|
|---|---|
| 强引用|在 Java 中最常见的就是强引用，把一个对象赋给一个引用变量，这个引用变量就是一个强引用。当一个对象被强引用变量引用时，它处于可达状态，它是不可能被垃圾回收机制回收的，即使该对象以后永远都不会被用到 JVM 也不会回收。因此**强引用是造成 Java 内存泄漏的主要原之一**。|
| 软引用|软引用需要用 SoftReference 类来实现，对于只有软引用的对象来说，当系统内存足够时它不会被回收，当系统内存空间不足时它会被回收。软引用通常用在对**内存敏感**的程序中。|
|弱引用|弱引用需要用 WeakReference 类来实现，它比软引用的生存期更短，对于只有弱引用的对象来说，**只要垃圾回收机制**一运行，不管 JVM 的内存空间是否足够，总会回收该对象占用的内存。|
|虚引用|虚引用需要 PhantomReference 类来实现，它不能单独使用，**必须和引用队列联合使用**。虚引用的主要作用是**跟踪对象被垃圾回收**的状态。|


